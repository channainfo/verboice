- content_for :head do
  :javascript
    var commands = #{raw Command.specs.to_json};
    var flow = #{raw @application.flow.to_json};
  %script{type: "text/html", id: "string"}
    %div
      %label{ko(text: "name()")}
      %input{:type => 'text', 'data-bind' => 'value: value' }
  %script{type: "text/html", id: "integer"}
    %div
      %label{ko(text: "name()")}
      %input{:type => 'text', 'data-bind' => 'value: value' }

#workflow{"data-update-url" => update_workflow_application_path(@application)}
  %form{'data-bind' => "submit: submitChange"}
    %h1 Steps
    %ul{'data-bind' => 'foreach: steps'}
      %li
        %h3{ko(text: 'name')}
        %div{'data-bind' => 'template: { name: display_template_for, foreach: arguments}' }
        %span{'data-bind' => 'click: remove'} remove
    %button{ 'type' => "submit"} Save

%h1 Commands
%ul#command-list{'data-bind' => 'foreach: commands'}
  %li
    %span{ko(text: 'name', click: 'add_to_steps')}